# Task 14 — End-to-end polish (docs, smoke tests, safety)

## Goal

Make the repo shippable: coherent docs, safety guardrails, and a repeatable manual smoke test across the 5 skills.

## Deliverables

- Root `README.md` describing:
  - install (plugin + `pip install -e .`)
  - enabling hooks
  - where artifacts are stored (`.claude/voyager/`)
  - quick usage for each of the 5 skills
  - dogfooding in this repo:
    - how to run fixture-driven hook simulations from `./.claude/fixtures/`
    - how to enable project-local hooks (without touching global settings)
- Safety checks:
  - scripts only write under `.claude/voyager/` and `.claude/skills/generated/`
  - no destructive commands in hooks
- Smoke test checklist (dogfood in this repo):
  - Skill mirror: run the sync helper to populate `./.claude/skills/local/` from `./skills/` (if your runtime loads skills from project-local paths).
  - Hook simulation: pipe `.claude/fixtures/hooks/session_start.json` → `scripts/brain/inject_context.py` and validate JSON output.
  - Brain update: pipe `.claude/fixtures/hooks/precompact.json` → `scripts/brain/update_brain.py` and confirm `./.claude/voyager/brain.json` + `brain.md` updated.
  - Curriculum: run `scripts/curriculum/plan.py` and confirm `./.claude/voyager/curriculum.json` + `curriculum.md` exist.
  - Factory: run `scripts/factory/propose_skills.py` then scaffold one into `./.claude/skills/generated/`.
  - Retrieval: build a local index (e.g., `--index-path ./.claude/voyager/skill-index/`) over `./skills` + `./.claude/skills/generated` and confirm `find-skill` retrieves expected skills.
  - Refinement: install project-local PostToolUse hook and confirm `skill-insights` summarizes `./.claude/voyager/feedback.db`.

## Acceptance criteria

- A new user can follow `README.md` to get value from all 5 skills in under ~10 minutes.
- All scripts tolerate missing prerequisites (no git, no claude, no index) without crashing hooks.
- Dogfooding artifacts are consistent with `plan/README.md` “Canonical paths”.
