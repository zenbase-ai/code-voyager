# Task 10 — Skill Factory engine (propose + scaffold generated skills)

## Goal

Create a self-improving skill workflow: mine transcripts/brain to propose skills and scaffold new skill folders safely.

## Deliverables

- Skill folder: `skills/skill-factory/`
  - `prompts/propose_skills.prompt.md`
  - `prompts/scaffold_skill.prompt.md` (or template-driven scaffold)
  - `reference.md` (guardrails, duplication checks)
- Scripts:
  - `scripts/factory/propose_skills.py`
    - reads transcript + brain (+ curriculum optional)
    - outputs proposals JSON (name, description triggers, allowed-tools, references/scripts needed)
  - `scripts/factory/scaffold_skill.py`
    - writes `.claude/skills/generated/<skill-name>/SKILL.md` + referenced files
    - validates YAML frontmatter and avoids overwrites
  - `.claude/voyager/generated_skills_index.json` (append-only index of generated skills)

## Acceptance criteria

- “Never overwrite without explicit confirmation” is enforced.
- Generated SKILL.md stays concise and uses progressive disclosure (references/scripts folders when needed).
- Scaffolded skill folder is valid and immediately usable by Claude Code.
- Dogfood: scaffold at least one generated skill into `./.claude/skills/generated/` using a fixture transcript from `./.claude/fixtures/transcripts/`, and ensure the generated skill is discoverable by the retrieval system once indexed (Task 12).
