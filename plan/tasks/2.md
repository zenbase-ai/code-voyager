# Task 2 — Shared foundations (I/O, logging, schemas)

## Goal

Implement small, reusable “plumbing” modules so later scripts stay thin and deterministic.

## Deliverables

- `src/voyager/io.py`
  - safe read/write helpers
  - atomic writes (write temp + rename)
  - mkdir -p, graceful “missing file” behavior
- `src/voyager/logging.py`
  - consistent structured logging for scripts (stderr, minimal noise)
- `src/voyager/jsonschema.py` (optional)
  - validate generated JSON against schema files
  - “best effort” validation for hook contexts (never crash hooks)
- `scripts/` conventions
  - each script starts with recursion guard check (see Task 3)
  - each script has a tight timeout budget when invoking LLMs or external commands

## Acceptance criteria

- Unit-testable helpers exist for the core behaviors (atomic write, read default, validation failure modes).
- Hook-facing scripts can import these modules without assuming virtualenv state (document how scripts are invoked).

